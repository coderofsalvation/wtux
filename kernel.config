# Minimal kernel config for i386 with networking
CONFIG_X86_32=y
CONFIG_M386=y
CONFIG_BINFMT_ELF=y
CONFIG_TTY=y
CONFIG_UNIX=y

# Network core
CONFIG_NET=y
CONFIG_PACKET=y
CONFIG_INET=y
CONFIG_NETDEVICES=y
CONFIG_NET_CORE=y
CONFIG_ETHERNET=y

# DNS and socket support
CONFIG_INET_UDP_DIAG=y
CONFIG_INET_DIAG=y
CONFIG_INET_TCP_DIAG=y
CONFIG_UNIX_DIAG=y
CONFIG_INET_DNS_RESOLVER=y

# IP protocols
CONFIG_IP_PNP=y
CONFIG_IP_PNP_DHCP=y
CONFIG_IP_PNP_BOOTP=y
CONFIG_IP_PNP_RARP=y

# VirtIO drivers
CONFIG_VIRTIO=y
CONFIG_VIRTIO_PCI=y
CONFIG_VIRTIO_NET=y
CONFIG_VIRTIO_CONSOLE=y
CONFIG_PCI=y
CONFIG_NET_VENDOR_VIRTIO=y

# 9P Support
CONFIG_9P_FS=y
CONFIG_9P_FS_POSIX_ACL=y
CONFIG_NET_9P=y
CONFIG_NET_9P_VIRTIO=y

# Basic filesystems
CONFIG_DEVTMPFS=y
CONFIG_DEVTMPFS_MOUNT=y
CONFIG_PROC_FS=y
CONFIG_SYSFS=y
CONFIG_TMPFS=y

# TTY support
CONFIG_SERIAL_8250=y
CONFIG_SERIAL_8250_CONSOLE=y
CONFIG_PRINTK=y
CONFIG_EARLY_PRINTK=y
CONFIG_SERIAL_CORE=y
CONFIG_SERIAL_CORE_CONSOLE=y

# Essential
CONFIG_BLK_DEV=y
CONFIG_BLK_DEV_INITRD=y
CONFIG_BINFMT_SCRIPT=y
CONFIG_POSIX_TIMERS=y
CONFIG_SHMEM=y
CONFIG_PROC_SYSCTL=y

# Disable unnecessary
CONFIG_MODULES=n
CONFIG_SWAP=n
CONFIG_SYSVIPC=n
CONFIG_SYSFS_DEPRECATED=n
CONFIG_SYSFS_DEPRECATED_V2=n
CONFIG_KALLSYMS=n
CONFIG_MAGIC_SYSRQ=n
CONFIG_DEBUG_KERNEL=n